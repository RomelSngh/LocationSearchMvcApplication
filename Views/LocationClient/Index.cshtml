@model IEnumerable<LocationSearchApplicationAPI.Models.Venue>

@{
    ViewBag.Title = "Recommended Venues";
}

@{
    var isSaved = String.IsNullOrEmpty(Context.Request.Query["isSavedData"]) ? false : true;
    if (!isSaved)
    {
        <h2>Recommended Venues</h2>
    }
    else         
    {
        <h2>Saved Venues</h2>
    }
        if (isSaved)
    {
        @using (Html.BeginForm("Index", "LocationClient", new { isSavedData = true }, FormMethod.Get))
        {
            <table class="table table-sm">
                <tr>
                    <td>@Html.Label("place")</td>
                    <td>@Html.Label("preference")</td>
                    <td></td>
                </tr>
                <tr>
                    <td>@Html.TextBox("place")</td>
                    <td>@Html.TextBox("placetype") </td>
                    <td>@Html.Hidden("isSavedData")</td>
                    <td><input type="submit" value="Filter" class="btn btn-outline-secondary" /></td> 
                </tr>
            </table>
        }

    }
    else
    {
        @using (Html.BeginForm("Index", "LocationClient", new { isSavedData = false }, FormMethod.Get))
        {
            <table class="table table-sm">
                <tr>
                    <td>@Html.Label("place")</td>
                    <td>@Html.Label("preference")</td>
                    <td></td>
                </tr>
                <tr>
                    <td>@Html.TextBox("place")</td>
                    <td>@Html.TextBox("placetype") </td>
                    <td><input type="submit" value="Filter" class="btn btn-outline-secondary" /></td>
                </tr>
            </table>
        }
    }
}
    <div class="table-responsive-sm">
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Description)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Dislike)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Latitude)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Longitude)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Like)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        @*<th>
            @Html.DisplayNameFor(model => model.price)
        </th>*@
        @*<th>
            @Html.DisplayNameFor(model => model.rating)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.restricted)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.storeId)
        </th>*@
        <th>
            @Html.DisplayNameFor(model => model.Url)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Verified)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Description)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Dislike)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Latitude)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Longitude)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Like)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        @*<td>
            @Html.DisplayFor(modelItem => item.price)
        </td>*@
        @*<td>
            @Html.DisplayFor(modelItem => item.rating)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.restricted)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.storeId)
        </td>*@
        <td>
            @Html.DisplayFor(modelItem => item.Url)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Verified)
        </td>
        <td>
            @{
                if (!isSaved) 
                      @Html.ActionLink("Details", "Index", "LocationImages", new { VenueId = item.Venueid, lat = item.Latitude, lng = item.Longitude }, null) 
                else
                      @Html.ActionLink("Details", "Index", "LocationImages", new { VenueId = item.Venueid }, null)
                    }
        </td>
    </tr>
}

</table>

</div>
